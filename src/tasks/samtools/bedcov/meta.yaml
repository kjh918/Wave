name: samtools.sort
version: "1.20"
description: "Sort BAM (no indexing)."

schema:
  inputs:
    bam_in:
      type: path
      required: true
      description: "Input BAM to sort"
  outputs:
    dir:
      type: dir
      required: false
      description: "Output directory (defaults to workdir)"
    bam:
      type: path
      required: false
      description: "Sorted BAM path (auto-generated if omitted)"
  params:
    threads:         {type: int,  default: 8}
    mem_per_thread:  {type: str,  default: "1G"}
    tmp_dir:         {type: path|null, default: null}
    samtools_bin:    {type: string, default: "samtools"}
    image:           {type: path|null, default: null}
    binds:           {type: list|string|null, default: null}
    singularity_bin: {type: string, default: "singularity"}